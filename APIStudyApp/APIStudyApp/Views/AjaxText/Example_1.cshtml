
@{
    ViewBag.Title = "Example_1";
}

<h2>Övning 1</h2>
<div class="row">
    <div class="col-md-8">
        <p>Utgå ifrån koden nedan som du ser i 'Example_1.cshtml' i View mappen, gör så att AJAX-anropet sker när man klickar på en knapp. Använd jQuery för event-hanteringen.</p>
        <div>
            @Html.ActionLink("Tillbaka till övningarna", "Index", new { area = "" }, new { @class = "link" })
        </div>
        <br /><br />


        <!--Under här skrivs övningen-->

        <style>
            /* din css här, tänk på att använda klasser och id för att
                inte krocka med annan css.
            */
        </style>


        <!--html här-->
        <div id="here"></div>



        <script type="text/javascript">

            var request = new XMLHttpRequest();

            request.onreadystatechange = function () {

                console.log("readyState:" + request.readyState);
                console.log("status:" + request.status);
                console.log("responseText:" + request.responseText);
                console.log("-----");

                if ((request.readyState === 4) && (request.status === 200)) {
                    document.getElementById('here').innerHTML = request.responseText;
                }
                else if (request.status === 403 && request.readyState === 4){
                    $("#here").append("<p>" + request.responseText + "</p>");
                }
            }
            $(document).ready(function () {

                // mer kod här
              
                request.open('GET', 'http://localhost:62818/api/loremtexts');
                request.setRequestHeader("apikey","Nyckel HÄR");
                request.send();
            });


        </script>


        <!--Slut på kod-->


    </div>
    <div class="col-md-4">
        <h3>Tips</h3>
        <ol>
            <li>
                Använd jQuery! Du vet hur man gör en button-click-event-funktion i jQuery
            </li>
            <li>
                <a rel="nofollow" class="external text" href="https://api.jquery.com/click/">.click()</a>
            </li>
        </ol>      
        <iframe width="350" height="350" src="https://www.youtube.com/embed/_odah10wzGU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    </div>
</div>